<table class="table table-striped">
  <thead id="filter">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Status</th>
      <th scope="col">Category</th>
      <th scope="col">Title</th>
      <th scope="col">Description</th>
      <th scope="col">Designer</th>
      <th scope="col">Start</th>
      <th scope="col">End design</th>
      <th scope="col">End</th>
      <th scope="col">Links</th>
    </tr>
  </thead>

    <tbody>
        {% for product in pbd.products %}
            <tr>
                <td scope="row">{{product.ident}}</td>
                <td scope="row">{% if product.is_done %}✅{% else %}…{% endif %}</td>
                <td>{{product.category}}</td>
                <td>{{product.title}}</td>
                <td>{{product.short_description}}...</td>
                <td>{{product.designer_name}}</td>
                <td>{{product.start_date}}</td>
                <td>{% if product.end_designer_date %}{{product.end_designer_date}}{% else %}WIP{% endif %}</td>
                <td>{% if product.end_date %}{{product.end_date}}{% else %}WIP{% endif %}</td>
                <td>
                    <div class="btn-group" role="group">
                        <a href="{{product.trello_link}}" class="btn btn-info btn-sm" role="button" target="_blank">Trello</a>
                        <a href="{{product.dropbox_link}}" class="btn btn-primary btn-sm" role="button" target="_blank">Dropbox</a>
                    </div>
                </td>
            </tr>
            {% for child in product.children %}
                <tr>
                    <td scope="row">{{child.ident}}</td>
                    <td scope="row">{% if child.is_done %}✅{% else %}…{% endif %}</td>
                    <td>{{child.category}}</td>
                    <td>{{child.title}}</td>
                    <td>{{child.short_description}}...</td>
                    <td>{{child.designer_name}}</td>
                    <td>{{child.start_date}}</td>
                    <td>{% if child.end_designer_date %}{{child.end_designer_date}}{% else %}WIP{% endif %}</td>
                    <td>{% if child.end_date %}{{child.end_date}}{% else %}WIP{% endif %}</td>
                    <td>
                        <div class="btn-group" role="group">
                            <a href="{{child.trello_link}}" class="btn btn-info btn-sm" role="button" target="_blank">Trello</a>
                            <a href="{{child.dropbox_link}}" class="btn btn-primary btn-sm" role="button" target="_blank">Dropbox</a>
                        </div>
                    </td>
                </tr>
            {% endfor %}
        {% endfor %}
    </tbody>
  </table>
  <nav>
    <ul class="pagination">
        <li class="page-item {% if pbd.page == 1%} disabled{% endif %}">
          <a class="page-link" href="#" aria-label="Previous" {% if pbd.page != 1%}onclick="refresh_products({{pbd.page - 1}})"{% endif %}>
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {% for n_page in range(1, pbd.number_pages+1) %}
        <li class="page-item {% if n_page == pbd.page%} active{% endif %}"><a class="page-link" href="#" onclick="refresh_products({{n_page}})">{{n_page}}</a></li>
        {% endfor %}
        <li class="page-item {% if pbd.page == pbd.number_pages%} disabled{% endif %}">
          <a class="page-link" href="#" {% if pbd.page != pbd.number_pages %}onclick="refresh_products({{pbd.number_pages + 1}})"{% endif %} aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
  </nav>
